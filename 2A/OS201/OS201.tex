\documentclass{article}
\usepackage{C:/Users/guitr/Documents/git_repositories/tpack/tpack}
% \usepackage{C:/Users/Admin-PC/Documents/git_repository/tpack/tpack}
% \usepackage{/home/tr0fin0/git_repositories/tpack/tpack}


\title{OI201 - Systèmes d'Exploitation}
\project{Résumé Théorique}
\author{Guilherme Nunes Trofino}
\authorRA{2022-2024}


\makeatletter
\begin{document}\selectlanguage{french}
\maketitle


\newpage\tableofcontents

\section{Introduction}
\subfile{C:/Users/guitr/Documents/git_repositories/classes_ensta/intro.tex}
% \subfile{C:/Users/Admin-PC/Documents/git_repository/classes_ensta/intro.tex}
% \subfile{/home/tr0fin0/git_repositories/classes_ensta/intro.tex}


\subsection{Information Matier}
\paragraph{Référence}Dans cette matière le but sera de comprendre comment une Système d'Exploitation marche.

\newpage\subsection{Vocabulaire}
\begin{definition}
    \textbf{Noyau} est la partie fondamentale du Système d'Exploitation, responsable pour gèrer les ressources de l'ordinateur.    
    \begin{remark}
        Nomme \textbf{Kernel} en Anglais.
    \end{remark}
\end{definition}

\begin{definition}
    \textbf{Service} est le programme qui origanise le partage de ressources de l'ordinateur.
\end{definition}

\begin{definition}
    \textbf{Pilote Périphérique} est le responsable pour communiquer avec le \textbf{Noyau} avec les périphériques de l'ordinateur.    
    \begin{remark}
        Nomme \textbf{Driver} en Anglais.
    \end{remark}
\end{definition}

\begin{definition}
    \textbf{Padding} consiste à garantir que la taille des données soit compatible avec les algorithmes utilisés.
\end{definition}

\subsubsection{Endianness}
\begin{definition}
    Convention pour lire les octets dans un mot:
    \begin{enumerate}[noitemsep]
        \item \textbf{Big Endian}: On commence par l'octet plus grand, gauche à droite;
        \item \textbf{Little Endian}: On commence par l'octet plus petit, droite à gauche;
    \end{enumerate}
    Exemple    
    \begin{scriptsize}\myRISCV
        \begin{lstlisting}
    variable = {0x11, 0x22, 0x33, 0x44};
    
    # code little endian, plus commun
    .word 0x11223344
    
    # code big endian
    .word 0x44332211
        \end{lstlisting}
    \end{scriptsize}
\end{definition}


\section{Travail Dirigé}
\subsection{Séance 07/11/2022}
\paragraph{Définition}Dans ce TD on avait besoin de comprendre la strucute et adresse de mémoire. Ainsi on considere le code suivant:
\begin{scriptsize}\mycode
    \begin{lstlisting}[language=C]
    struct p {
        uint32_t x; // 32 bits -> 4 octets
        uint16_t u; // 16 bits -> 2 octets
        uint32_t y; // 32 bits -> 4 octets
        uint32_t z; // 32 bits -> 4 octets
    } __attribute__((packed));;

    struct p *prt;
    \end{lstlisting}
\end{scriptsize}
Le \texttt{packed} assure que les champs des structures sont les uns à la suite des autres, donc il n'aura pas de \textbf{padding} pendant l'execution du code. Si \texttt{prt} point à l'adresse 0x1000 alors:
\begin{enumerate}[noitemsep]
    \item \texttt{\&(ptr->x)} pointe à l'adresse 0x1000
    \item \texttt{\&(ptr->u)} pointe à l'adresse 0x1004
    \item \texttt{\&(ptr->y)} pointe à l'adresse 0x1006
    \item \texttt{\&(ptr->z)} pointe à l'adresse 0x100A
\end{enumerate}
On rapelle que 0x represente des numéros hexadecimales.

\subsection{Séance 14/11/2022}
\paragraph{Définition}16 kilo octets = 16 kilo bytes = 16 000 bytes
dans le td il faut faire la plut part hardcoded
char *heap c'est un tableau de pointeurs et char heap c'est un tableau de char
memalloc doit reçu

\newpage\subsection{Séance 21/11/2022}
\paragraph{Définition}Dans ce TD on avait besoin de comprendre des \texttt{threads} coppératifs. Il faudra linkiez les fichiers C et assembleur avec les options de compilateur \texttt{-static} comme montre:
\begin{scriptsize}\mycode
    \begin{lstlisting}[language=Bash]
        gcc -static main.c main.s -o main.exe
    \end{lstlisting}
\end{scriptsize}

\end{document}